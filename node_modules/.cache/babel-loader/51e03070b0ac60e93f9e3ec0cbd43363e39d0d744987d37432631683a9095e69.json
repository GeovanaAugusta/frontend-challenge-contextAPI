{"ast":null,"code":"var _jsxFileName = \"/home/ge/frontend-challenge-contextAPI/src/components/MenuItems/app.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { INITIAL_STATE } from './constants';\nimport { fetchMenuDetails } from '../../api/services/MenuDetails';\nimport arrowIcon from '../../assets/icons/arrow.png';\nimport ModalProductDetails from '../Modals/ModalProductDetails/app';\nimport PlusIcon from '../../assets/icons/plus-small.png';\nimport MinusIcon from '../../assets/icons/minus-small.png';\nimport { fetchARestaurantsById } from '../../api/services/RestaurantDetails';\nimport { formatPrice } from '../../utils/currency';\nimport ModalBasket from '../Modals/ModalBasket/app';\nimport { useLanguage } from '../../utils/locales/LanguageContext';\nimport { translate } from '../../utils/locales/i18n';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst saveToLocalStorage = state => {\n  localStorage.setItem('cartState', JSON.stringify(state));\n};\nconst loadFromLocalStorage = () => {\n  const savedState = localStorage.getItem('cartState');\n  return savedState ? JSON.parse(savedState) : INITIAL_STATE;\n};\nconst MenuItems = () => {\n  _s();\n  const [state, setState] = useState(loadFromLocalStorage());\n  const [searchTerm, setSearchTerm] = useState('');\n  const {\n    changeLanguage\n  } = useLanguage();\n  useEffect(() => {\n    const handleResize = () => {\n      setState(prev => ({\n        ...prev,\n        isMobile: window.innerWidth < 1000,\n        isDesktop: window.innerWidth === 1480\n      }));\n    };\n    window.addEventListener('resize', handleResize);\n    handleResize();\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n  useEffect(() => {\n    const getMenu = async () => {\n      const id = 9;\n      const menuData = await fetchMenuDetails();\n      if (menuData) {\n        const restaurantData = await fetchARestaurantsById(id);\n        changeLanguage(restaurantData.locale);\n        setState(prev => ({\n          ...prev,\n          menu: menuData.sections,\n          locale: restaurantData.locale,\n          currency: restaurantData.ccy\n        }));\n      }\n    };\n    getMenu();\n  }, []);\n  useEffect(() => {\n    saveToLocalStorage(state);\n  }, [state]);\n  useEffect(() => {\n    const allCountersZero = state.productCounter.every(count => count === 0);\n    if (allCountersZero && state.updatedQuantity === 0) {\n      setState(prev => ({\n        ...prev,\n        selectedModifier: []\n      }));\n    }\n  }, [state.productCounter, state.updatedQuantity]);\n  const handleClick = id => {\n    setState(prev => ({\n      ...prev,\n      selectedId: id\n    }));\n    const sectionElement = document.getElementById(`section-${id}`);\n    if (sectionElement) {\n      sectionElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  };\n  const calculateTotalPriceWithModifiers = (item, selectedModifier, quantity) => {\n    let totalPrice = item.price;\n    if (item.modifiers) {\n      item.modifiers.forEach(modifierGroup => {\n        modifierGroup.items.forEach(modifierItem => {\n          if (selectedModifier.some(selected => selected.id === modifierItem.id)) {\n            totalPrice += modifierItem.price;\n          }\n        });\n      });\n      return totalPrice * quantity;\n    }\n    return 0;\n  };\n  const handleItemClick = (item, quantity) => {\n    const totalPrice = calculateTotalPriceWithModifiers(item, state.selectedModifier, quantity) / quantity;\n    setState(prev => ({\n      ...prev,\n      selectedItem: item,\n      isModalOpen: true,\n      selectedItemObject: {\n        [item.name]: quantity === 0 ? 1 : quantity\n      }\n    }));\n    if (item.modifiers) {\n      setState(prev => ({\n        ...prev,\n        itemPrice: totalPrice\n      }));\n    }\n  };\n  const handlePriceUpdate = price => {\n    setState(prev => ({\n      ...prev,\n      updatedPrice: price\n    }));\n  };\n  const handlePlus = index => {\n    setState(prev => {\n      const updatedCounters = [...prev.productCounter];\n      const updatedItems = [...prev.updatedItems];\n      if (updatedCounters[index] === undefined) {\n        updatedCounters[index] = 1;\n      } else {\n        updatedCounters[index] += 1;\n      }\n      const existingItemIndex = updatedItems.findIndex(item => item.item.id === prev.updatedItems[index].item.id);\n      if (existingItemIndex !== -1) {\n        updatedItems[existingItemIndex] = {\n          ...updatedItems[existingItemIndex],\n          quantity: updatedCounters[index]\n        };\n      }\n      const newTotal = updatedItems.map(item => item.quantity * item.item.price);\n      return {\n        ...prev,\n        productCounter: updatedCounters,\n        updatedItems: updatedItems,\n        total: newTotal,\n        updatedQuantity: updatedCounters.reduce((acc, updCounter) => acc + updCounter, 0)\n      };\n    });\n  };\n  const handleMinus = index => {\n    setState(prev => {\n      const updatedCounters = [...prev.productCounter];\n      const updatedItems = [...prev.updatedItems];\n      if (updatedCounters[index] === undefined) {\n        updatedCounters[index] = 1;\n      } else if (updatedCounters[index] > 0) {\n        updatedCounters[index] -= 1;\n      }\n      const existingItemIndex = updatedItems.findIndex(item => item.item.id === prev.updatedItems[index].item.id);\n      if (existingItemIndex !== -1) {\n        updatedItems[existingItemIndex] = {\n          ...updatedItems[existingItemIndex],\n          quantity: updatedCounters[index]\n        };\n      }\n      const newTotal = updatedItems.map(item => item.quantity * item.item.price);\n      return {\n        ...prev,\n        productCounter: updatedCounters,\n        updatedItems: updatedItems,\n        total: newTotal,\n        updatedQuantity: updatedCounters.reduce((acc, updCounter) => acc + updCounter, 0)\n      };\n    });\n  };\n  const handleQuantityUpdate = (items, quantity, isModifier, selectedModifier, itemPrice) => {\n    setState(prev => {\n      const existingItemIndex = prev.updatedItems.findIndex(existing => existing.item.id === items.id);\n      let updatedItems;\n      let updatedProductCounter = [...prev.productCounter];\n      if (existingItemIndex !== -1) {\n        updatedItems = prev.updatedItems.map((existing, index) => index === existingItemIndex ? {\n          ...existing,\n          quantity\n        } : existing);\n        updatedProductCounter[existingItemIndex] = quantity;\n      } else {\n        updatedItems = [...prev.updatedItems, {\n          item: items,\n          quantity\n        }];\n        updatedProductCounter = [...updatedProductCounter, quantity];\n      }\n      const newTotal = updatedItems.map(item => item.quantity * item.item.price);\n      return {\n        ...prev,\n        updatedQuantity: quantity,\n        updatedItems: updatedItems,\n        productCounter: updatedProductCounter,\n        total: newTotal,\n        isModifier,\n        selectedModifier,\n        itemPrice\n      };\n    });\n  };\n  const truncateDescription = (description, maxLength) => {\n    if (description !== undefined && description !== null && description.length > maxLength) {\n      return description.slice(0, maxLength) + '...';\n    }\n    return description;\n  };\n  const calculateTotal = () => {\n    return state.total.reduce((acc, cur) => acc + cur, 0);\n  };\n  const filteredMenu = state.menu.map(section => ({\n    ...section,\n    items: section.items.filter(item => item.name.toLowerCase().includes(searchTerm.toLowerCase()))\n  }));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!state.isMobile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"menu-search\",\n        className: `input-search ${state.isDesktop ? 'desktop-input-search' : ''}`,\n        type: \"search\",\n        placeholder: translate('Search menu items'),\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        \"aria-label\": \"Search through menu items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: `${!state.isMobile ? 'container-menu' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subcontainer-menu\",\n        children: [state.isMobile && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"menu-search-mobile\",\n            className: `input-search ismobile ${state.isDesktop ? 'desktop-input-search' : ''}`,\n            type: \"search\",\n            placeholder: translate('Search menu items'),\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            \"aria-label\": \"Search through menu items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-options-menu\",\n          role: \"navigation\",\n          \"aria-label\": \"Menu options\",\n          children: filteredMenu.map(item => /*#__PURE__*/_jsxDEV(\"article\", {\n            className: \"subcontainer-options-menu\",\n            onClick: () => handleClick(item.id),\n            tabIndex: 0,\n            role: \"button\",\n            \"aria-pressed\": state.selectedId === item.id,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: `img-options-menu ${state.selectedId === item.id ? 'selected-option' : ''}`,\n              src: item.images[0].image,\n              alt: `${item.name}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `title-options-menu ${state.selectedId === item.id ? 'selected-title' : ''}`,\n              children: translate(item.name)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this), state.selectedId === item.id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-option-risk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 50\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), filteredMenu.map(section => section.items.length > 0 && /*#__PURE__*/_jsxDEV(\"article\", {\n          id: `section-${section.id}`,\n          \"aria-labelledby\": `heading-${section.id}`,\n          className: \"article-menu-items\",\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"container-details-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-header\",\n              id: `heading-${section.id}`,\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"section-name\",\n                children: translate(section.name)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: arrowIcon,\n                alt: `Expand ${section.name} section`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 19\n            }, this), section.items.filter(item => item.available).map(item => {\n              const itemIndex = state.updatedItems.findIndex(basketItem => basketItem.item.id === item.id);\n              const selectedQuantity = itemIndex !== -1 ? state.productCounter[itemIndex] || 0 : 0;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container-item\",\n                onClick: () => handleItemClick(item, selectedQuantity),\n                tabIndex: 0,\n                role: \"button\",\n                \"aria-pressed\": selectedQuantity > 0,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"counter-name\",\n                    children: [selectedQuantity > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"counter-by-section\",\n                      children: selectedQuantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"title-item\",\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"description-item\",\n                    children: truncateDescription(translate(item.description ? item.description : ''), 50)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"price-item\",\n                    children: formatPrice(item.price === 0 && selectedQuantity > 0 ? state.itemPrice : item.price, state.locale, state.currency)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 25\n                }, this), item.images && /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img-item\",\n                  src: item.images[0].image,\n                  alt: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 27\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 23\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this)\n        }, section.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"ancor-section\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"ancor-alergy\",\n            href: \"allergy-information.html\",\n            children: translate('View allergy information')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), !state.isMobile && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subcontainer-basket\",\n        \"aria-label\": \"Shopping cart\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subcontainer-basket-1\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"title-basket\",\n            children: translate('Basket')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subcontainer-basket-2\",\n          children: state.updatedQuantity > 0 ? state.updatedItems.map((basket, index) => state.productCounter[index] > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subcontainer-basket-2-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container-name-counter\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"title-basket-name\",\n                  children: basket.item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 27\n                }, this), basket.item.modifiers && basket.item.modifiers.map(modifier => modifier.items.filter(modifierItem => state.selectedModifier.some(mod => mod.id === modifierItem.id)).map(modifierItem => {\n                  const selectedModifier = state.selectedModifier.find(mod => mod.id === modifierItem.id);\n                  if (selectedModifier) {\n                    basket.item.price = selectedModifier.price;\n                  }\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"modifier-name\",\n                      children: selectedModifier && translate('With') + translate(selectedModifier.name)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 39\n                    }, this)\n                  }, modifierItem.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 37\n                  }, this);\n                })), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"subcontainer-basket-2-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-minus-basket\",\n                    onClick: () => handleMinus(index),\n                    \"aria-label\": `Decrease quantity of ${basket.item.name}`,\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: MinusIcon,\n                      alt: \"Decrease quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"p-counter-order\",\n                    children: state.productCounter[index] > 0 ? state.productCounter[index] : basket.quantity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-plus-basket\",\n                    onClick: () => handlePlus(index),\n                    \"aria-label\": `Increase quantity of ${basket.item.name}`,\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: PlusIcon,\n                      alt: \"Increase quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"title-basket-price\",\n                children: formatPrice(basket.item.price * (state.productCounter[index] > 0 ? state.productCounter[index] : basket.quantity), state.locale, state.currency)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 23\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 21\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"subtitle-basket\",\n            children: translate('Your basket is empty')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this), state.updatedQuantity > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"subcontainer-basket-1-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subcontainer-basket-2-1-1 border-2-1-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"title-total-basket subtotal-b\",\n                children: \"Sub total:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"title-total-basket price subtotal-price\",\n                children: formatPrice(calculateTotal(), state.locale, state.currency)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subcontainer-basket-2-1-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"title-total-basket\",\n                children: \"Total:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"title-total-basket price\",\n                children: formatPrice(calculateTotal(), state.locale, state.currency)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-add-order checkout\",\n            children: translate('Checkout now')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 11\n      }, this), state.isModalOpenBasket && state.isMobile && /*#__PURE__*/_jsxDEV(ModalBasket, {\n        selectedModifier: state.selectedModifier,\n        updatedQuantity: state.updatedQuantity,\n        updatedItems: state.updatedItems,\n        productCounter: state.productCounter,\n        locale: state.locale,\n        currency: state.currency,\n        handleMinus: handleMinus,\n        handlePlus: handlePlus,\n        calculateTotal: calculateTotal,\n        onClose: () => setState(prev => ({\n          ...prev,\n          isModalOpenBasket: false\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }, this), state.isModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay\",\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(ModalProductDetails, {\n          updatedItems: state.updatedItems,\n          itemPrice: state.itemPrice,\n          selectedModifier: state.selectedModifier,\n          selectedItemObject: state.selectedItemObject,\n          productCounter: state.productCounter,\n          onProductCounter: handleQuantityUpdate,\n          onPriceUpdate: handlePriceUpdate,\n          item: state.selectedItem,\n          locale: state.locale,\n          currency: state.currency,\n          onClose: () => setState(prev => ({\n            ...prev,\n            isModalOpen: false\n          })),\n          onOpen: () => {\n            setState(prev => ({\n              ...prev,\n              isModalOpenBasket: true\n            }));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(MenuItems, \"J9/ArPuQCcpsTe+M81UZqsR5dWA=\", false, function () {\n  return [useLanguage];\n});\n_c = MenuItems;\nexport default MenuItems;\nvar _c;\n$RefreshReg$(_c, \"MenuItems\");","map":{"version":3,"names":["useEffect","useState","INITIAL_STATE","fetchMenuDetails","arrowIcon","ModalProductDetails","PlusIcon","MinusIcon","fetchARestaurantsById","formatPrice","ModalBasket","useLanguage","translate","jsxDEV","_jsxDEV","Fragment","_Fragment","saveToLocalStorage","state","localStorage","setItem","JSON","stringify","loadFromLocalStorage","savedState","getItem","parse","MenuItems","_s","setState","searchTerm","setSearchTerm","changeLanguage","handleResize","prev","isMobile","window","innerWidth","isDesktop","addEventListener","removeEventListener","getMenu","id","menuData","restaurantData","locale","menu","sections","currency","ccy","allCountersZero","productCounter","every","count","updatedQuantity","selectedModifier","handleClick","selectedId","sectionElement","document","getElementById","scrollIntoView","behavior","block","calculateTotalPriceWithModifiers","item","quantity","totalPrice","price","modifiers","forEach","modifierGroup","items","modifierItem","some","selected","handleItemClick","selectedItem","isModalOpen","selectedItemObject","name","itemPrice","handlePriceUpdate","updatedPrice","handlePlus","index","updatedCounters","updatedItems","undefined","existingItemIndex","findIndex","newTotal","map","total","reduce","acc","updCounter","handleMinus","handleQuantityUpdate","isModifier","existing","updatedProductCounter","truncateDescription","description","maxLength","length","slice","calculateTotal","cur","filteredMenu","section","filter","toLowerCase","includes","children","className","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","tabIndex","src","images","image","alt","available","itemIndex","basketItem","selectedQuantity","href","basket","modifier","mod","find","isModalOpenBasket","onClose","onProductCounter","onPriceUpdate","onOpen","_c","$RefreshReg$"],"sources":["/home/ge/frontend-challenge-contextAPI/src/components/MenuItems/app.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { INITIAL_STATE } from './constants';\nimport { fetchMenuDetails } from '../../api/services/MenuDetails';\nimport arrowIcon from '../../assets/icons/arrow.png';\nimport ModalProductDetails from '../Modals/ModalProductDetails/app';\nimport { ItemMod, Items } from '../../Interfaces/MenuI';\nimport PlusIcon from '../../assets/icons/plus-small.png';\nimport MinusIcon from '../../assets/icons/minus-small.png';\nimport { fetchARestaurantsById } from '../../api/services/RestaurantDetails';\nimport { formatPrice } from '../../utils/currency';\nimport ModalBasket from '../Modals/ModalBasket/app';\nimport { useLanguage } from '../../utils/locales/LanguageContext';\nimport { translate } from '../../utils/locales/i18n';\nimport { RestaurantI } from '../../api/interface';\n\n\nconst saveToLocalStorage = (state: typeof INITIAL_STATE) => {\n  localStorage.setItem('cartState', JSON.stringify(state));\n};\n\nconst loadFromLocalStorage = (): typeof INITIAL_STATE => {\n  const savedState = localStorage.getItem('cartState');\n  return savedState ? JSON.parse(savedState) : INITIAL_STATE;\n};\n\nconst MenuItems = () => {\n  const [state, setState] = useState(loadFromLocalStorage());\n  const [searchTerm, setSearchTerm] = useState('');\n  const { changeLanguage } = useLanguage();\n\n  useEffect(() => {\n    const handleResize = () => {\n      setState((prev) => ({\n        ...prev,\n        isMobile: window.innerWidth < 1000,\n        isDesktop: window.innerWidth === 1480,\n      }));\n    };\n\n    window.addEventListener('resize', handleResize);\n    handleResize();\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  useEffect(() => {\n    const getMenu = async () => {\n      const id = 9;\n      const menuData = await fetchMenuDetails();\n\n      if (menuData) {\n        const restaurantData: RestaurantI = await fetchARestaurantsById(id);\n        changeLanguage(restaurantData.locale)\n        setState((prev) => ({\n          ...prev,\n          menu: menuData.sections,\n          locale: restaurantData.locale,\n          currency: restaurantData.ccy\n        }));\n      }\n    };\n\n    getMenu();\n  }, []);\n\n  useEffect(() => {\n    saveToLocalStorage(state);\n  }, [state]);\n\n  useEffect(() => {\n    const allCountersZero = state.productCounter.every(count => count === 0);\n\n    if (allCountersZero && state.updatedQuantity === 0) {\n      setState(prev => ({\n        ...prev,\n        selectedModifier: []\n      }));\n    }\n  }, [state.productCounter, state.updatedQuantity]);\n\n\n  const handleClick = (id: number) => {\n    setState((prev) => ({\n      ...prev,\n      selectedId: id,\n    }));\n    const sectionElement = document.getElementById(`section-${id}`);\n\n    if (sectionElement) {\n      sectionElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  const calculateTotalPriceWithModifiers = (item: Items, selectedModifier: ItemMod[], quantity: number): number => {\n    let totalPrice = item.price;\n\n    if (item.modifiers) {\n      item.modifiers.forEach(modifierGroup => {\n        modifierGroup.items.forEach(modifierItem => {\n          if (selectedModifier.some(selected => selected.id === modifierItem.id)) {\n            totalPrice += modifierItem.price;\n          }\n        });\n      });\n\n      return totalPrice * quantity;\n    }\n    return 0\n  };\n\n  const handleItemClick = (item: Items, quantity: number) => {\n    const totalPrice = calculateTotalPriceWithModifiers(item, state.selectedModifier, quantity) / quantity;\n\n    setState((prev) => ({\n      ...prev,\n      selectedItem: item,\n      isModalOpen: true,\n      selectedItemObject: { [item.name]: (quantity === 0 ? 1 : quantity) },\n    }));\n\n    if (item.modifiers) {\n      setState((prev) => ({\n        ...prev,\n        itemPrice: totalPrice,\n      }));\n    }\n  };\n\n  const handlePriceUpdate = (price: number) => {\n    setState((prev) => ({\n      ...prev,\n      updatedPrice: price\n    }));\n  };\n\n  const handlePlus = (index: number) => {\n    setState((prev) => {\n      const updatedCounters = [...prev.productCounter];\n      const updatedItems = [...prev.updatedItems];\n\n      if (updatedCounters[index] === undefined) {\n        updatedCounters[index] = 1;\n      } else {\n        updatedCounters[index] += 1;\n      }\n\n      const existingItemIndex = updatedItems.findIndex(\n        (item) => item.item.id === prev.updatedItems[index].item.id\n      );\n\n      if (existingItemIndex !== -1) {\n        updatedItems[existingItemIndex] = {\n          ...updatedItems[existingItemIndex],\n          quantity: updatedCounters[index]\n        };\n      }\n\n      const newTotal = updatedItems.map((item) => item.quantity * item.item.price);\n\n      return {\n        ...prev,\n        productCounter: updatedCounters,\n        updatedItems: updatedItems,\n        total: newTotal,\n        updatedQuantity: updatedCounters.reduce((acc, updCounter) => acc + updCounter, 0)\n      };\n    });\n  };\n\n  const handleMinus = (index: number) => {\n    setState((prev) => {\n      const updatedCounters = [...prev.productCounter];\n      const updatedItems = [...prev.updatedItems];\n\n      if (updatedCounters[index] === undefined) {\n        updatedCounters[index] = 1;\n      } else if (updatedCounters[index] > 0) {\n        updatedCounters[index] -= 1;\n      }\n\n      const existingItemIndex = updatedItems.findIndex(\n        (item) => item.item.id === prev.updatedItems[index].item.id\n      );\n\n      if (existingItemIndex !== -1) {\n        updatedItems[existingItemIndex] = {\n          ...updatedItems[existingItemIndex],\n          quantity: updatedCounters[index]\n        };\n      }\n\n      const newTotal = updatedItems.map((item) => item.quantity * item.item.price);\n\n      return {\n        ...prev,\n        productCounter: updatedCounters,\n        updatedItems: updatedItems,\n        total: newTotal,\n        updatedQuantity: updatedCounters.reduce((acc, updCounter) => acc + updCounter, 0)\n      };\n    });\n  };\n\n  const handleQuantityUpdate = (items: Items, quantity: number, isModifier: boolean, selectedModifier: ItemMod[], itemPrice: number) => {\n    setState((prev) => {\n      const existingItemIndex = prev.updatedItems.findIndex(\n        (existing) => existing.item.id === items.id\n      );\n\n      let updatedItems;\n      let updatedProductCounter = [...prev.productCounter];\n\n      if (existingItemIndex !== -1) {\n        updatedItems = prev.updatedItems.map((existing, index) =>\n          index === existingItemIndex ? { ...existing, quantity } : existing\n        );\n        updatedProductCounter[existingItemIndex] = quantity;\n      } else {\n        updatedItems = [...prev.updatedItems, { item: items, quantity }];\n        updatedProductCounter = [...updatedProductCounter, quantity];\n      }\n\n      const newTotal = updatedItems.map((item) => item.quantity * item.item.price);\n\n      return {\n        ...prev,\n        updatedQuantity: quantity,\n        updatedItems: updatedItems,\n        productCounter: updatedProductCounter,\n        total: newTotal,\n        isModifier,\n        selectedModifier,\n        itemPrice\n      };\n    });\n  };\n\n  const truncateDescription = (description: string | undefined | null, maxLength: number) => {\n    if (description !== undefined && description !== null && description.length > maxLength) {\n      return description.slice(0, maxLength) + '...';\n    }\n    return description;\n  };\n\n  const calculateTotal = () => {\n    return state.total.reduce((acc, cur) => acc + cur, 0);\n  };\n\n  const filteredMenu = state.menu.map(section => ({\n    ...section,\n    items: section.items.filter(item =>\n      item.name.toLowerCase().includes(searchTerm.toLowerCase())\n    )\n  }));\n\n  return (\n    <>\n      {!state.isMobile && (\n        <div className=\"search-wrapper\">\n          <input\n            id=\"menu-search\"\n            className={`input-search ${state.isDesktop ? 'desktop-input-search' : ''}`}\n            type=\"search\"\n            placeholder={translate('Search menu items')}\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            aria-label=\"Search through menu items\"\n          />\n        </div>\n      )}\n\n      <section className={`${!state.isMobile ? 'container-menu' : ''}`}>\n        <div className=\"subcontainer-menu\">\n          {state.isMobile && (\n            <div className=\"search-wrapper\">\n              <input\n                id=\"menu-search-mobile\"\n                className={`input-search ismobile ${state.isDesktop ? 'desktop-input-search' : ''}`}\n                type=\"search\"\n                placeholder={translate('Search menu items')}\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                aria-label=\"Search through menu items\"\n              />\n            </div>\n          )}\n          <div className=\"container-options-menu\" role=\"navigation\" aria-label=\"Menu options\">\n            {filteredMenu.map((item) => (\n              <article\n                key={item.id}\n                className=\"subcontainer-options-menu\"\n                onClick={() => handleClick(item.id)}\n                tabIndex={0}\n                role=\"button\"\n                aria-pressed={state.selectedId === item.id}\n              >\n                <img\n                  className={`img-options-menu ${state.selectedId === item.id ? 'selected-option' : ''}`}\n                  src={item.images[0].image}\n                  alt={`${item.name}`}\n                />\n                <p className={`title-options-menu ${state.selectedId === item.id ? 'selected-title' : ''}`}>\n                  {translate(item.name)}\n                </p>\n                {state.selectedId === item.id && <div className=\"selected-option-risk\"></div>}\n              </article>\n            ))}\n          </div>\n\n          {filteredMenu.map((section) => (\n            section.items.length > 0 && (\n              <article key={section.id} id={`section-${section.id}`} aria-labelledby={`heading-${section.id}`} className='article-menu-items'>\n                <section className=\"container-details-options\">\n                  <div className=\"section-header\" id={`heading-${section.id}`}>\n                    <h2 className=\"section-name\">{translate(section.name)}</h2>\n                    <img src={arrowIcon} alt={`Expand ${section.name} section`} />\n                  </div>\n                  {section.items.filter(item => item.available).map((item) => {\n                    const itemIndex = state.updatedItems.findIndex(basketItem => basketItem.item.id === item.id);\n                    const selectedQuantity = itemIndex !== -1 ? state.productCounter[itemIndex] || 0 : 0;\n                    return (\n                      <div\n                        key={item.id}\n                        className=\"container-item\"\n                        onClick={() => handleItemClick(item, selectedQuantity)}\n                        tabIndex={0}\n                        role=\"button\"\n                        aria-pressed={selectedQuantity > 0}\n                      >\n                        <div>\n                          <div className=\"counter-name\">\n                            {selectedQuantity > 0 && (\n                              <span className=\"counter-by-section\">{selectedQuantity}</span>\n                            )}\n                            <span className=\"title-item\">{item.name}</span>\n                          </div>\n                          <p className=\"description-item\">{truncateDescription(translate(item.description ? item.description : ''), 50)}</p>\n                          <p className=\"price-item\">{formatPrice(item.price === 0 && selectedQuantity > 0 ? state.itemPrice : item.price, state.locale, state.currency)}</p>\n                        </div>\n                        {item.images && (\n                          <img className=\"img-item\" src={item.images[0].image} alt={item.name} />\n                        )}\n                      </div>\n                    );\n                  })}\n                </section>\n              </article>\n            )\n          ))}\n          <section className=\"ancor-section\">\n            <a className=\"ancor-alergy\" href=\"allergy-information.html\">{translate('View allergy information')}</a>\n          </section>\n        </div>\n\n        {!state.isMobile && (\n          <div className=\"subcontainer-basket\" aria-label=\"Shopping cart\">\n            <div className=\"subcontainer-basket-1\">\n              <h2 className=\"title-basket\">{translate('Basket')}</h2>\n            </div>\n            <div className=\"subcontainer-basket-2\">\n              {state.updatedQuantity > 0 ? (\n                state.updatedItems.map((basket, index) => (\n                  state.productCounter[index] > 0 && (\n                    <div key={index} >\n                      <div className=\"subcontainer-basket-2-1\">\n                        <div className=\"container-name-counter\">\n                          <p className=\"title-basket-name\">{basket.item.name}</p>\n                          {basket.item.modifiers &&\n                            basket.item.modifiers.map((modifier) =>\n                              modifier.items\n                                .filter((modifierItem) =>\n                                  state.selectedModifier.some((mod) => mod.id === modifierItem.id)\n                                )\n                                .map((modifierItem) => {\n                                  const selectedModifier = state.selectedModifier.find(\n                                    (mod) => mod.id === modifierItem.id\n                                  );\n\n                                  if (selectedModifier) {\n                                    basket.item.price = selectedModifier.price;\n                                  }\n\n                                  return (\n                                    <div key={modifierItem.id}>\n                                      <p className=\"modifier-name\">\n                                        {selectedModifier && translate('With') + translate(selectedModifier.name)}\n                                      </p>\n                                    </div>\n                                  );\n                                })\n                            )}\n\n                          <div className=\"subcontainer-basket-2-2\">\n                            <button\n                              className=\"btn-minus-basket\"\n                              onClick={() => handleMinus(index)}\n                              aria-label={`Decrease quantity of ${basket.item.name}`}\n                            >\n                              <img src={MinusIcon} alt=\"Decrease quantity\" />\n                            </button>\n                            <p className=\"p-counter-order\">\n                              {state.productCounter[index] > 0 ? state.productCounter[index] : basket.quantity}\n                            </p>\n                            <button\n                              className=\"btn-plus-basket\"\n                              onClick={() => handlePlus(index)}\n                              aria-label={`Increase quantity of ${basket.item.name}`}\n                            >\n                              <img src={PlusIcon} alt=\"Increase quantity\" />\n                            </button>\n                          </div>\n                        </div>\n                        <p className=\"title-basket-price\">\n                          {formatPrice(basket.item.price * (state.productCounter[index] > 0 ? state.productCounter[index] : basket.quantity), state.locale, state.currency)}\n                        </p>\n                      </div>\n                    </div>\n                  )\n                ))\n              ) : (\n                <p className=\"subtitle-basket\">{translate('Your basket is empty')}</p>\n              )}\n            </div>\n\n            {state.updatedQuantity > 0 && (\n              <>\n                <div className=\"subcontainer-basket-1-2\">\n                  <div className=\"subcontainer-basket-2-1-1 border-2-1-1\">\n                    <p className=\"title-total-basket subtotal-b\">Sub total:</p>\n                    <p className=\"title-total-basket price subtotal-price\">{formatPrice(calculateTotal(), state.locale, state.currency)}</p>\n                  </div>\n                  <div className=\"subcontainer-basket-2-1-1\">\n                    <p className=\"title-total-basket\">Total:</p>\n                    <p className=\"title-total-basket price\">{formatPrice(calculateTotal(), state.locale, state.currency)}</p>\n                  </div>\n                </div>\n                <button className=\"btn-add-order checkout\">{translate('Checkout now')}</button>\n              </>\n            )}\n          </div>\n        )}\n\n        {state.isModalOpenBasket && state.isMobile && (\n          <ModalBasket\n            selectedModifier={state.selectedModifier}\n            updatedQuantity={state.updatedQuantity}\n            updatedItems={state.updatedItems}\n            productCounter={state.productCounter}\n            locale={state.locale}\n            currency={state.currency}\n            handleMinus={handleMinus}\n            handlePlus={handlePlus}\n            calculateTotal={calculateTotal}\n            onClose={() => setState((prev) => ({ ...prev, isModalOpenBasket: false }))} />\n        )}\n\n        {state.isModalOpen && (\n          <div className=\"overlay\" role=\"dialog\" aria-modal=\"true\">\n            <ModalProductDetails\n              updatedItems={state.updatedItems}\n              itemPrice={state.itemPrice}\n              selectedModifier={state.selectedModifier}\n              selectedItemObject={state.selectedItemObject}\n              productCounter={state.productCounter}\n              onProductCounter={handleQuantityUpdate}\n              onPriceUpdate={handlePriceUpdate}\n              item={state.selectedItem}\n              locale={state.locale}\n              currency={state.currency}\n              onClose={() => setState((prev) => ({ ...prev, isModalOpen: false }))}\n              onOpen={() => {\n                setState((prev) => ({ ...prev, isModalOpenBasket: true }))\n              }}\n            />\n          </div>\n        )}\n      </section>\n    </>\n\n  );\n};\n\nexport default MenuItems;\n\n\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,aAAa,QAAQ,aAAa;AAC3C,SAASC,gBAAgB,QAAQ,gCAAgC;AACjE,OAAOC,SAAS,MAAM,8BAA8B;AACpD,OAAOC,mBAAmB,MAAM,mCAAmC;AAEnE,OAAOC,QAAQ,MAAM,mCAAmC;AACxD,OAAOC,SAAS,MAAM,oCAAoC;AAC1D,SAASC,qBAAqB,QAAQ,sCAAsC;AAC5E,SAASC,WAAW,QAAQ,sBAAsB;AAClD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAASC,WAAW,QAAQ,qCAAqC;AACjE,SAASC,SAAS,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAIrD,MAAMC,kBAAkB,GAAIC,KAA2B,IAAK;EAC1DC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC,CAAC;AAC1D,CAAC;AAED,MAAMK,oBAAoB,GAAGA,CAAA,KAA4B;EACvD,MAAMC,UAAU,GAAGL,YAAY,CAACM,OAAO,CAAC,WAAW,CAAC;EACpD,OAAOD,UAAU,GAAGH,IAAI,CAACK,KAAK,CAACF,UAAU,CAAC,GAAGtB,aAAa;AAC5D,CAAC;AAED,MAAMyB,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACV,KAAK,EAAEW,QAAQ,CAAC,GAAG5B,QAAQ,CAACsB,oBAAoB,CAAC,CAAC,CAAC;EAC1D,MAAM,CAACO,UAAU,EAAEC,aAAa,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM;IAAE+B;EAAe,CAAC,GAAGrB,WAAW,CAAC,CAAC;EAExCX,SAAS,CAAC,MAAM;IACd,MAAMiC,YAAY,GAAGA,CAAA,KAAM;MACzBJ,QAAQ,CAAEK,IAAI,KAAM;QAClB,GAAGA,IAAI;QACPC,QAAQ,EAAEC,MAAM,CAACC,UAAU,GAAG,IAAI;QAClCC,SAAS,EAAEF,MAAM,CAACC,UAAU,KAAK;MACnC,CAAC,CAAC,CAAC;IACL,CAAC;IAEDD,MAAM,CAACG,gBAAgB,CAAC,QAAQ,EAAEN,YAAY,CAAC;IAC/CA,YAAY,CAAC,CAAC;IAEd,OAAO,MAAM;MACXG,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAEP,YAAY,CAAC;IACpD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENjC,SAAS,CAAC,MAAM;IACd,MAAMyC,OAAO,GAAG,MAAAA,CAAA,KAAY;MAC1B,MAAMC,EAAE,GAAG,CAAC;MACZ,MAAMC,QAAQ,GAAG,MAAMxC,gBAAgB,CAAC,CAAC;MAEzC,IAAIwC,QAAQ,EAAE;QACZ,MAAMC,cAA2B,GAAG,MAAMpC,qBAAqB,CAACkC,EAAE,CAAC;QACnEV,cAAc,CAACY,cAAc,CAACC,MAAM,CAAC;QACrChB,QAAQ,CAAEK,IAAI,KAAM;UAClB,GAAGA,IAAI;UACPY,IAAI,EAAEH,QAAQ,CAACI,QAAQ;UACvBF,MAAM,EAAED,cAAc,CAACC,MAAM;UAC7BG,QAAQ,EAAEJ,cAAc,CAACK;QAC3B,CAAC,CAAC,CAAC;MACL;IACF,CAAC;IAEDR,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,EAAE,CAAC;EAENzC,SAAS,CAAC,MAAM;IACdiB,kBAAkB,CAACC,KAAK,CAAC;EAC3B,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEXlB,SAAS,CAAC,MAAM;IACd,MAAMkD,eAAe,GAAGhC,KAAK,CAACiC,cAAc,CAACC,KAAK,CAACC,KAAK,IAAIA,KAAK,KAAK,CAAC,CAAC;IAExE,IAAIH,eAAe,IAAIhC,KAAK,CAACoC,eAAe,KAAK,CAAC,EAAE;MAClDzB,QAAQ,CAACK,IAAI,KAAK;QAChB,GAAGA,IAAI;QACPqB,gBAAgB,EAAE;MACpB,CAAC,CAAC,CAAC;IACL;EACF,CAAC,EAAE,CAACrC,KAAK,CAACiC,cAAc,EAAEjC,KAAK,CAACoC,eAAe,CAAC,CAAC;EAGjD,MAAME,WAAW,GAAId,EAAU,IAAK;IAClCb,QAAQ,CAAEK,IAAI,KAAM;MAClB,GAAGA,IAAI;MACPuB,UAAU,EAAEf;IACd,CAAC,CAAC,CAAC;IACH,MAAMgB,cAAc,GAAGC,QAAQ,CAACC,cAAc,CAAC,WAAWlB,EAAE,EAAE,CAAC;IAE/D,IAAIgB,cAAc,EAAE;MAClBA,cAAc,CAACG,cAAc,CAAC;QAC5BC,QAAQ,EAAE,QAAQ;QAClBC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMC,gCAAgC,GAAGA,CAACC,IAAW,EAAEV,gBAA2B,EAAEW,QAAgB,KAAa;IAC/G,IAAIC,UAAU,GAAGF,IAAI,CAACG,KAAK;IAE3B,IAAIH,IAAI,CAACI,SAAS,EAAE;MAClBJ,IAAI,CAACI,SAAS,CAACC,OAAO,CAACC,aAAa,IAAI;QACtCA,aAAa,CAACC,KAAK,CAACF,OAAO,CAACG,YAAY,IAAI;UAC1C,IAAIlB,gBAAgB,CAACmB,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACjC,EAAE,KAAK+B,YAAY,CAAC/B,EAAE,CAAC,EAAE;YACtEyB,UAAU,IAAIM,YAAY,CAACL,KAAK;UAClC;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF,OAAOD,UAAU,GAAGD,QAAQ;IAC9B;IACA,OAAO,CAAC;EACV,CAAC;EAED,MAAMU,eAAe,GAAGA,CAACX,IAAW,EAAEC,QAAgB,KAAK;IACzD,MAAMC,UAAU,GAAGH,gCAAgC,CAACC,IAAI,EAAE/C,KAAK,CAACqC,gBAAgB,EAAEW,QAAQ,CAAC,GAAGA,QAAQ;IAEtGrC,QAAQ,CAAEK,IAAI,KAAM;MAClB,GAAGA,IAAI;MACP2C,YAAY,EAAEZ,IAAI;MAClBa,WAAW,EAAE,IAAI;MACjBC,kBAAkB,EAAE;QAAE,CAACd,IAAI,CAACe,IAAI,GAAId,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAGA;MAAU;IACrE,CAAC,CAAC,CAAC;IAEH,IAAID,IAAI,CAACI,SAAS,EAAE;MAClBxC,QAAQ,CAAEK,IAAI,KAAM;QAClB,GAAGA,IAAI;QACP+C,SAAS,EAAEd;MACb,CAAC,CAAC,CAAC;IACL;EACF,CAAC;EAED,MAAMe,iBAAiB,GAAId,KAAa,IAAK;IAC3CvC,QAAQ,CAAEK,IAAI,KAAM;MAClB,GAAGA,IAAI;MACPiD,YAAY,EAAEf;IAChB,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMgB,UAAU,GAAIC,KAAa,IAAK;IACpCxD,QAAQ,CAAEK,IAAI,IAAK;MACjB,MAAMoD,eAAe,GAAG,CAAC,GAAGpD,IAAI,CAACiB,cAAc,CAAC;MAChD,MAAMoC,YAAY,GAAG,CAAC,GAAGrD,IAAI,CAACqD,YAAY,CAAC;MAE3C,IAAID,eAAe,CAACD,KAAK,CAAC,KAAKG,SAAS,EAAE;QACxCF,eAAe,CAACD,KAAK,CAAC,GAAG,CAAC;MAC5B,CAAC,MAAM;QACLC,eAAe,CAACD,KAAK,CAAC,IAAI,CAAC;MAC7B;MAEA,MAAMI,iBAAiB,GAAGF,YAAY,CAACG,SAAS,CAC7CzB,IAAI,IAAKA,IAAI,CAACA,IAAI,CAACvB,EAAE,KAAKR,IAAI,CAACqD,YAAY,CAACF,KAAK,CAAC,CAACpB,IAAI,CAACvB,EAC3D,CAAC;MAED,IAAI+C,iBAAiB,KAAK,CAAC,CAAC,EAAE;QAC5BF,YAAY,CAACE,iBAAiB,CAAC,GAAG;UAChC,GAAGF,YAAY,CAACE,iBAAiB,CAAC;UAClCvB,QAAQ,EAAEoB,eAAe,CAACD,KAAK;QACjC,CAAC;MACH;MAEA,MAAMM,QAAQ,GAAGJ,YAAY,CAACK,GAAG,CAAE3B,IAAI,IAAKA,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAACA,IAAI,CAACG,KAAK,CAAC;MAE5E,OAAO;QACL,GAAGlC,IAAI;QACPiB,cAAc,EAAEmC,eAAe;QAC/BC,YAAY,EAAEA,YAAY;QAC1BM,KAAK,EAAEF,QAAQ;QACfrC,eAAe,EAAEgC,eAAe,CAACQ,MAAM,CAAC,CAACC,GAAG,EAAEC,UAAU,KAAKD,GAAG,GAAGC,UAAU,EAAE,CAAC;MAClF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,WAAW,GAAIZ,KAAa,IAAK;IACrCxD,QAAQ,CAAEK,IAAI,IAAK;MACjB,MAAMoD,eAAe,GAAG,CAAC,GAAGpD,IAAI,CAACiB,cAAc,CAAC;MAChD,MAAMoC,YAAY,GAAG,CAAC,GAAGrD,IAAI,CAACqD,YAAY,CAAC;MAE3C,IAAID,eAAe,CAACD,KAAK,CAAC,KAAKG,SAAS,EAAE;QACxCF,eAAe,CAACD,KAAK,CAAC,GAAG,CAAC;MAC5B,CAAC,MAAM,IAAIC,eAAe,CAACD,KAAK,CAAC,GAAG,CAAC,EAAE;QACrCC,eAAe,CAACD,KAAK,CAAC,IAAI,CAAC;MAC7B;MAEA,MAAMI,iBAAiB,GAAGF,YAAY,CAACG,SAAS,CAC7CzB,IAAI,IAAKA,IAAI,CAACA,IAAI,CAACvB,EAAE,KAAKR,IAAI,CAACqD,YAAY,CAACF,KAAK,CAAC,CAACpB,IAAI,CAACvB,EAC3D,CAAC;MAED,IAAI+C,iBAAiB,KAAK,CAAC,CAAC,EAAE;QAC5BF,YAAY,CAACE,iBAAiB,CAAC,GAAG;UAChC,GAAGF,YAAY,CAACE,iBAAiB,CAAC;UAClCvB,QAAQ,EAAEoB,eAAe,CAACD,KAAK;QACjC,CAAC;MACH;MAEA,MAAMM,QAAQ,GAAGJ,YAAY,CAACK,GAAG,CAAE3B,IAAI,IAAKA,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAACA,IAAI,CAACG,KAAK,CAAC;MAE5E,OAAO;QACL,GAAGlC,IAAI;QACPiB,cAAc,EAAEmC,eAAe;QAC/BC,YAAY,EAAEA,YAAY;QAC1BM,KAAK,EAAEF,QAAQ;QACfrC,eAAe,EAAEgC,eAAe,CAACQ,MAAM,CAAC,CAACC,GAAG,EAAEC,UAAU,KAAKD,GAAG,GAAGC,UAAU,EAAE,CAAC;MAClF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EAED,MAAME,oBAAoB,GAAGA,CAAC1B,KAAY,EAAEN,QAAgB,EAAEiC,UAAmB,EAAE5C,gBAA2B,EAAE0B,SAAiB,KAAK;IACpIpD,QAAQ,CAAEK,IAAI,IAAK;MACjB,MAAMuD,iBAAiB,GAAGvD,IAAI,CAACqD,YAAY,CAACG,SAAS,CAClDU,QAAQ,IAAKA,QAAQ,CAACnC,IAAI,CAACvB,EAAE,KAAK8B,KAAK,CAAC9B,EAC3C,CAAC;MAED,IAAI6C,YAAY;MAChB,IAAIc,qBAAqB,GAAG,CAAC,GAAGnE,IAAI,CAACiB,cAAc,CAAC;MAEpD,IAAIsC,iBAAiB,KAAK,CAAC,CAAC,EAAE;QAC5BF,YAAY,GAAGrD,IAAI,CAACqD,YAAY,CAACK,GAAG,CAAC,CAACQ,QAAQ,EAAEf,KAAK,KACnDA,KAAK,KAAKI,iBAAiB,GAAG;UAAE,GAAGW,QAAQ;UAAElC;QAAS,CAAC,GAAGkC,QAC5D,CAAC;QACDC,qBAAqB,CAACZ,iBAAiB,CAAC,GAAGvB,QAAQ;MACrD,CAAC,MAAM;QACLqB,YAAY,GAAG,CAAC,GAAGrD,IAAI,CAACqD,YAAY,EAAE;UAAEtB,IAAI,EAAEO,KAAK;UAAEN;QAAS,CAAC,CAAC;QAChEmC,qBAAqB,GAAG,CAAC,GAAGA,qBAAqB,EAAEnC,QAAQ,CAAC;MAC9D;MAEA,MAAMyB,QAAQ,GAAGJ,YAAY,CAACK,GAAG,CAAE3B,IAAI,IAAKA,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAACA,IAAI,CAACG,KAAK,CAAC;MAE5E,OAAO;QACL,GAAGlC,IAAI;QACPoB,eAAe,EAAEY,QAAQ;QACzBqB,YAAY,EAAEA,YAAY;QAC1BpC,cAAc,EAAEkD,qBAAqB;QACrCR,KAAK,EAAEF,QAAQ;QACfQ,UAAU;QACV5C,gBAAgB;QAChB0B;MACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EAED,MAAMqB,mBAAmB,GAAGA,CAACC,WAAsC,EAAEC,SAAiB,KAAK;IACzF,IAAID,WAAW,KAAKf,SAAS,IAAIe,WAAW,KAAK,IAAI,IAAIA,WAAW,CAACE,MAAM,GAAGD,SAAS,EAAE;MACvF,OAAOD,WAAW,CAACG,KAAK,CAAC,CAAC,EAAEF,SAAS,CAAC,GAAG,KAAK;IAChD;IACA,OAAOD,WAAW;EACpB,CAAC;EAED,MAAMI,cAAc,GAAGA,CAAA,KAAM;IAC3B,OAAOzF,KAAK,CAAC2E,KAAK,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEa,GAAG,KAAKb,GAAG,GAAGa,GAAG,EAAE,CAAC,CAAC;EACvD,CAAC;EAED,MAAMC,YAAY,GAAG3F,KAAK,CAAC4B,IAAI,CAAC8C,GAAG,CAACkB,OAAO,KAAK;IAC9C,GAAGA,OAAO;IACVtC,KAAK,EAAEsC,OAAO,CAACtC,KAAK,CAACuC,MAAM,CAAC9C,IAAI,IAC9BA,IAAI,CAACe,IAAI,CAACgC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACnF,UAAU,CAACkF,WAAW,CAAC,CAAC,CAC3D;EACF,CAAC,CAAC,CAAC;EAEH,oBACElG,OAAA,CAAAE,SAAA;IAAAkG,QAAA,GACG,CAAChG,KAAK,CAACiB,QAAQ,iBACdrB,OAAA;MAAKqG,SAAS,EAAC,gBAAgB;MAAAD,QAAA,eAC7BpG,OAAA;QACE4B,EAAE,EAAC,aAAa;QAChByE,SAAS,EAAE,gBAAgBjG,KAAK,CAACoB,SAAS,GAAG,sBAAsB,GAAG,EAAE,EAAG;QAC3E8E,IAAI,EAAC,QAAQ;QACbC,WAAW,EAAEzG,SAAS,CAAC,mBAAmB,CAAE;QAC5C0G,KAAK,EAAExF,UAAW;QAClByF,QAAQ,EAAGC,CAAC,IAAKzF,aAAa,CAACyF,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAC/C,cAAW;MAA2B;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,eAED/G,OAAA;MAASqG,SAAS,EAAE,GAAG,CAACjG,KAAK,CAACiB,QAAQ,GAAG,gBAAgB,GAAG,EAAE,EAAG;MAAA+E,QAAA,gBAC/DpG,OAAA;QAAKqG,SAAS,EAAC,mBAAmB;QAAAD,QAAA,GAC/BhG,KAAK,CAACiB,QAAQ,iBACbrB,OAAA;UAAKqG,SAAS,EAAC,gBAAgB;UAAAD,QAAA,eAC7BpG,OAAA;YACE4B,EAAE,EAAC,oBAAoB;YACvByE,SAAS,EAAE,yBAAyBjG,KAAK,CAACoB,SAAS,GAAG,sBAAsB,GAAG,EAAE,EAAG;YACpF8E,IAAI,EAAC,QAAQ;YACbC,WAAW,EAAEzG,SAAS,CAAC,mBAAmB,CAAE;YAC5C0G,KAAK,EAAExF,UAAW;YAClByF,QAAQ,EAAGC,CAAC,IAAKzF,aAAa,CAACyF,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YAC/C,cAAW;UAA2B;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN,eACD/G,OAAA;UAAKqG,SAAS,EAAC,wBAAwB;UAACW,IAAI,EAAC,YAAY;UAAC,cAAW,cAAc;UAAAZ,QAAA,EAChFL,YAAY,CAACjB,GAAG,CAAE3B,IAAI,iBACrBnD,OAAA;YAEEqG,SAAS,EAAC,2BAA2B;YACrCY,OAAO,EAAEA,CAAA,KAAMvE,WAAW,CAACS,IAAI,CAACvB,EAAE,CAAE;YACpCsF,QAAQ,EAAE,CAAE;YACZF,IAAI,EAAC,QAAQ;YACb,gBAAc5G,KAAK,CAACuC,UAAU,KAAKQ,IAAI,CAACvB,EAAG;YAAAwE,QAAA,gBAE3CpG,OAAA;cACEqG,SAAS,EAAE,oBAAoBjG,KAAK,CAACuC,UAAU,KAAKQ,IAAI,CAACvB,EAAE,GAAG,iBAAiB,GAAG,EAAE,EAAG;cACvFuF,GAAG,EAAEhE,IAAI,CAACiE,MAAM,CAAC,CAAC,CAAC,CAACC,KAAM;cAC1BC,GAAG,EAAE,GAAGnE,IAAI,CAACe,IAAI;YAAG;cAAA0C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrB,CAAC,eACF/G,OAAA;cAAGqG,SAAS,EAAE,sBAAsBjG,KAAK,CAACuC,UAAU,KAAKQ,IAAI,CAACvB,EAAE,GAAG,gBAAgB,GAAG,EAAE,EAAG;cAAAwE,QAAA,EACxFtG,SAAS,CAACqD,IAAI,CAACe,IAAI;YAAC;cAAA0C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpB,CAAC,EACH3G,KAAK,CAACuC,UAAU,KAAKQ,IAAI,CAACvB,EAAE,iBAAI5B,OAAA;cAAKqG,SAAS,EAAC;YAAsB;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA,GAfxE5D,IAAI,CAACvB,EAAE;YAAAgF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAgBL,CACV;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,EAELhB,YAAY,CAACjB,GAAG,CAAEkB,OAAO,IACxBA,OAAO,CAACtC,KAAK,CAACiC,MAAM,GAAG,CAAC,iBACtB3F,OAAA;UAA0B4B,EAAE,EAAE,WAAWoE,OAAO,CAACpE,EAAE,EAAG;UAAC,mBAAiB,WAAWoE,OAAO,CAACpE,EAAE,EAAG;UAACyE,SAAS,EAAC,oBAAoB;UAAAD,QAAA,eAC7HpG,OAAA;YAASqG,SAAS,EAAC,2BAA2B;YAAAD,QAAA,gBAC5CpG,OAAA;cAAKqG,SAAS,EAAC,gBAAgB;cAACzE,EAAE,EAAE,WAAWoE,OAAO,CAACpE,EAAE,EAAG;cAAAwE,QAAA,gBAC1DpG,OAAA;gBAAIqG,SAAS,EAAC,cAAc;gBAAAD,QAAA,EAAEtG,SAAS,CAACkG,OAAO,CAAC9B,IAAI;cAAC;gBAAA0C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3D/G,OAAA;gBAAKmH,GAAG,EAAE7H,SAAU;gBAACgI,GAAG,EAAE,UAAUtB,OAAO,CAAC9B,IAAI;cAAW;gBAAA0C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3D,CAAC,EACLf,OAAO,CAACtC,KAAK,CAACuC,MAAM,CAAC9C,IAAI,IAAIA,IAAI,CAACoE,SAAS,CAAC,CAACzC,GAAG,CAAE3B,IAAI,IAAK;cAC1D,MAAMqE,SAAS,GAAGpH,KAAK,CAACqE,YAAY,CAACG,SAAS,CAAC6C,UAAU,IAAIA,UAAU,CAACtE,IAAI,CAACvB,EAAE,KAAKuB,IAAI,CAACvB,EAAE,CAAC;cAC5F,MAAM8F,gBAAgB,GAAGF,SAAS,KAAK,CAAC,CAAC,GAAGpH,KAAK,CAACiC,cAAc,CAACmF,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC;cACpF,oBACExH,OAAA;gBAEEqG,SAAS,EAAC,gBAAgB;gBAC1BY,OAAO,EAAEA,CAAA,KAAMnD,eAAe,CAACX,IAAI,EAAEuE,gBAAgB,CAAE;gBACvDR,QAAQ,EAAE,CAAE;gBACZF,IAAI,EAAC,QAAQ;gBACb,gBAAcU,gBAAgB,GAAG,CAAE;gBAAAtB,QAAA,gBAEnCpG,OAAA;kBAAAoG,QAAA,gBACEpG,OAAA;oBAAKqG,SAAS,EAAC,cAAc;oBAAAD,QAAA,GAC1BsB,gBAAgB,GAAG,CAAC,iBACnB1H,OAAA;sBAAMqG,SAAS,EAAC,oBAAoB;sBAAAD,QAAA,EAAEsB;oBAAgB;sBAAAd,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAC9D,eACD/G,OAAA;sBAAMqG,SAAS,EAAC,YAAY;sBAAAD,QAAA,EAAEjD,IAAI,CAACe;oBAAI;sBAAA0C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5C,CAAC,eACN/G,OAAA;oBAAGqG,SAAS,EAAC,kBAAkB;oBAAAD,QAAA,EAAEZ,mBAAmB,CAAC1F,SAAS,CAACqD,IAAI,CAACsC,WAAW,GAAGtC,IAAI,CAACsC,WAAW,GAAG,EAAE,CAAC,EAAE,EAAE;kBAAC;oBAAAmB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAClH/G,OAAA;oBAAGqG,SAAS,EAAC,YAAY;oBAAAD,QAAA,EAAEzG,WAAW,CAACwD,IAAI,CAACG,KAAK,KAAK,CAAC,IAAIoE,gBAAgB,GAAG,CAAC,GAAGtH,KAAK,CAAC+D,SAAS,GAAGhB,IAAI,CAACG,KAAK,EAAElD,KAAK,CAAC2B,MAAM,EAAE3B,KAAK,CAAC8B,QAAQ;kBAAC;oBAAA0E,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/I,CAAC,EACL5D,IAAI,CAACiE,MAAM,iBACVpH,OAAA;kBAAKqG,SAAS,EAAC,UAAU;kBAACc,GAAG,EAAEhE,IAAI,CAACiE,MAAM,CAAC,CAAC,CAAC,CAACC,KAAM;kBAACC,GAAG,EAAEnE,IAAI,CAACe;gBAAK;kBAAA0C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CACvE;cAAA,GAnBI5D,IAAI,CAACvB,EAAE;gBAAAgF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAoBT,CAAC;YAEV,CAAC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK;QAAC,GAlCEf,OAAO,CAACpE,EAAE;UAAAgF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmCf,CAEZ,CAAC,eACF/G,OAAA;UAASqG,SAAS,EAAC,eAAe;UAAAD,QAAA,eAChCpG,OAAA;YAAGqG,SAAS,EAAC,cAAc;YAACsB,IAAI,EAAC,0BAA0B;YAAAvB,QAAA,EAAEtG,SAAS,CAAC,0BAA0B;UAAC;YAAA8G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC,EAEL,CAAC3G,KAAK,CAACiB,QAAQ,iBACdrB,OAAA;QAAKqG,SAAS,EAAC,qBAAqB;QAAC,cAAW,eAAe;QAAAD,QAAA,gBAC7DpG,OAAA;UAAKqG,SAAS,EAAC,uBAAuB;UAAAD,QAAA,eACpCpG,OAAA;YAAIqG,SAAS,EAAC,cAAc;YAAAD,QAAA,EAAEtG,SAAS,CAAC,QAAQ;UAAC;YAAA8G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC,eACN/G,OAAA;UAAKqG,SAAS,EAAC,uBAAuB;UAAAD,QAAA,EACnChG,KAAK,CAACoC,eAAe,GAAG,CAAC,GACxBpC,KAAK,CAACqE,YAAY,CAACK,GAAG,CAAC,CAAC8C,MAAM,EAAErD,KAAK,KACnCnE,KAAK,CAACiC,cAAc,CAACkC,KAAK,CAAC,GAAG,CAAC,iBAC7BvE,OAAA;YAAAoG,QAAA,eACEpG,OAAA;cAAKqG,SAAS,EAAC,yBAAyB;cAAAD,QAAA,gBACtCpG,OAAA;gBAAKqG,SAAS,EAAC,wBAAwB;gBAAAD,QAAA,gBACrCpG,OAAA;kBAAGqG,SAAS,EAAC,mBAAmB;kBAAAD,QAAA,EAAEwB,MAAM,CAACzE,IAAI,CAACe;gBAAI;kBAAA0C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,EACtDa,MAAM,CAACzE,IAAI,CAACI,SAAS,IACpBqE,MAAM,CAACzE,IAAI,CAACI,SAAS,CAACuB,GAAG,CAAE+C,QAAQ,IACjCA,QAAQ,CAACnE,KAAK,CACXuC,MAAM,CAAEtC,YAAY,IACnBvD,KAAK,CAACqC,gBAAgB,CAACmB,IAAI,CAAEkE,GAAG,IAAKA,GAAG,CAAClG,EAAE,KAAK+B,YAAY,CAAC/B,EAAE,CACjE,CAAC,CACAkD,GAAG,CAAEnB,YAAY,IAAK;kBACrB,MAAMlB,gBAAgB,GAAGrC,KAAK,CAACqC,gBAAgB,CAACsF,IAAI,CACjDD,GAAG,IAAKA,GAAG,CAAClG,EAAE,KAAK+B,YAAY,CAAC/B,EACnC,CAAC;kBAED,IAAIa,gBAAgB,EAAE;oBACpBmF,MAAM,CAACzE,IAAI,CAACG,KAAK,GAAGb,gBAAgB,CAACa,KAAK;kBAC5C;kBAEA,oBACEtD,OAAA;oBAAAoG,QAAA,eACEpG,OAAA;sBAAGqG,SAAS,EAAC,eAAe;sBAAAD,QAAA,EACzB3D,gBAAgB,IAAI3C,SAAS,CAAC,MAAM,CAAC,GAAGA,SAAS,CAAC2C,gBAAgB,CAACyB,IAAI;oBAAC;sBAAA0C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACxE;kBAAC,GAHIpD,YAAY,CAAC/B,EAAE;oBAAAgF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAIpB,CAAC;gBAEV,CAAC,CACL,CAAC,eAEH/G,OAAA;kBAAKqG,SAAS,EAAC,yBAAyB;kBAAAD,QAAA,gBACtCpG,OAAA;oBACEqG,SAAS,EAAC,kBAAkB;oBAC5BY,OAAO,EAAEA,CAAA,KAAM9B,WAAW,CAACZ,KAAK,CAAE;oBAClC,cAAY,wBAAwBqD,MAAM,CAACzE,IAAI,CAACe,IAAI,EAAG;oBAAAkC,QAAA,eAEvDpG,OAAA;sBAAKmH,GAAG,EAAE1H,SAAU;sBAAC6H,GAAG,EAAC;oBAAmB;sBAAAV,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzC,CAAC,eACT/G,OAAA;oBAAGqG,SAAS,EAAC,iBAAiB;oBAAAD,QAAA,EAC3BhG,KAAK,CAACiC,cAAc,CAACkC,KAAK,CAAC,GAAG,CAAC,GAAGnE,KAAK,CAACiC,cAAc,CAACkC,KAAK,CAAC,GAAGqD,MAAM,CAACxE;kBAAQ;oBAAAwD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/E,CAAC,eACJ/G,OAAA;oBACEqG,SAAS,EAAC,iBAAiB;oBAC3BY,OAAO,EAAEA,CAAA,KAAM3C,UAAU,CAACC,KAAK,CAAE;oBACjC,cAAY,wBAAwBqD,MAAM,CAACzE,IAAI,CAACe,IAAI,EAAG;oBAAAkC,QAAA,eAEvDpG,OAAA;sBAAKmH,GAAG,EAAE3H,QAAS;sBAAC8H,GAAG,EAAC;oBAAmB;sBAAAV,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACxC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACN/G,OAAA;gBAAGqG,SAAS,EAAC,oBAAoB;gBAAAD,QAAA,EAC9BzG,WAAW,CAACiI,MAAM,CAACzE,IAAI,CAACG,KAAK,IAAIlD,KAAK,CAACiC,cAAc,CAACkC,KAAK,CAAC,GAAG,CAAC,GAAGnE,KAAK,CAACiC,cAAc,CAACkC,KAAK,CAAC,GAAGqD,MAAM,CAACxE,QAAQ,CAAC,EAAEhD,KAAK,CAAC2B,MAAM,EAAE3B,KAAK,CAAC8B,QAAQ;cAAC;gBAAA0E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChJ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC,GApDExC,KAAK;YAAAqC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAqDV,CAER,CAAC,gBAEF/G,OAAA;YAAGqG,SAAS,EAAC,iBAAiB;YAAAD,QAAA,EAAEtG,SAAS,CAAC,sBAAsB;UAAC;YAAA8G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QACtE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,EAEL3G,KAAK,CAACoC,eAAe,GAAG,CAAC,iBACxBxC,OAAA,CAAAE,SAAA;UAAAkG,QAAA,gBACEpG,OAAA;YAAKqG,SAAS,EAAC,yBAAyB;YAAAD,QAAA,gBACtCpG,OAAA;cAAKqG,SAAS,EAAC,wCAAwC;cAAAD,QAAA,gBACrDpG,OAAA;gBAAGqG,SAAS,EAAC,+BAA+B;gBAAAD,QAAA,EAAC;cAAU;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC3D/G,OAAA;gBAAGqG,SAAS,EAAC,yCAAyC;gBAAAD,QAAA,EAAEzG,WAAW,CAACkG,cAAc,CAAC,CAAC,EAAEzF,KAAK,CAAC2B,MAAM,EAAE3B,KAAK,CAAC8B,QAAQ;cAAC;gBAAA0E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrH,CAAC,eACN/G,OAAA;cAAKqG,SAAS,EAAC,2BAA2B;cAAAD,QAAA,gBACxCpG,OAAA;gBAAGqG,SAAS,EAAC,oBAAoB;gBAAAD,QAAA,EAAC;cAAM;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC5C/G,OAAA;gBAAGqG,SAAS,EAAC,0BAA0B;gBAAAD,QAAA,EAAEzG,WAAW,CAACkG,cAAc,CAAC,CAAC,EAAEzF,KAAK,CAAC2B,MAAM,EAAE3B,KAAK,CAAC8B,QAAQ;cAAC;gBAAA0E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACN/G,OAAA;YAAQqG,SAAS,EAAC,wBAAwB;YAAAD,QAAA,EAAEtG,SAAS,CAAC,cAAc;UAAC;YAAA8G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA,eAC/E,CACH;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN,EAEA3G,KAAK,CAAC4H,iBAAiB,IAAI5H,KAAK,CAACiB,QAAQ,iBACxCrB,OAAA,CAACJ,WAAW;QACV6C,gBAAgB,EAAErC,KAAK,CAACqC,gBAAiB;QACzCD,eAAe,EAAEpC,KAAK,CAACoC,eAAgB;QACvCiC,YAAY,EAAErE,KAAK,CAACqE,YAAa;QACjCpC,cAAc,EAAEjC,KAAK,CAACiC,cAAe;QACrCN,MAAM,EAAE3B,KAAK,CAAC2B,MAAO;QACrBG,QAAQ,EAAE9B,KAAK,CAAC8B,QAAS;QACzBiD,WAAW,EAAEA,WAAY;QACzBb,UAAU,EAAEA,UAAW;QACvBuB,cAAc,EAAEA,cAAe;QAC/BoC,OAAO,EAAEA,CAAA,KAAMlH,QAAQ,CAAEK,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAE4G,iBAAiB,EAAE;QAAM,CAAC,CAAC;MAAE;QAAApB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAChF,EAEA3G,KAAK,CAAC4D,WAAW,iBAChBhE,OAAA;QAAKqG,SAAS,EAAC,SAAS;QAACW,IAAI,EAAC,QAAQ;QAAC,cAAW,MAAM;QAAAZ,QAAA,eACtDpG,OAAA,CAACT,mBAAmB;UAClBkF,YAAY,EAAErE,KAAK,CAACqE,YAAa;UACjCN,SAAS,EAAE/D,KAAK,CAAC+D,SAAU;UAC3B1B,gBAAgB,EAAErC,KAAK,CAACqC,gBAAiB;UACzCwB,kBAAkB,EAAE7D,KAAK,CAAC6D,kBAAmB;UAC7C5B,cAAc,EAAEjC,KAAK,CAACiC,cAAe;UACrC6F,gBAAgB,EAAE9C,oBAAqB;UACvC+C,aAAa,EAAE/D,iBAAkB;UACjCjB,IAAI,EAAE/C,KAAK,CAAC2D,YAAa;UACzBhC,MAAM,EAAE3B,KAAK,CAAC2B,MAAO;UACrBG,QAAQ,EAAE9B,KAAK,CAAC8B,QAAS;UACzB+F,OAAO,EAAEA,CAAA,KAAMlH,QAAQ,CAAEK,IAAI,KAAM;YAAE,GAAGA,IAAI;YAAE4C,WAAW,EAAE;UAAM,CAAC,CAAC,CAAE;UACrEoE,MAAM,EAAEA,CAAA,KAAM;YACZrH,QAAQ,CAAEK,IAAI,KAAM;cAAE,GAAGA,IAAI;cAAE4G,iBAAiB,EAAE;YAAK,CAAC,CAAC,CAAC;UAC5D;QAAE;UAAApB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACM,CAAC;EAAA,eACV,CAAC;AAGP,CAAC;AAACjG,EAAA,CA5cID,SAAS;EAAA,QAGchB,WAAW;AAAA;AAAAwI,EAAA,GAHlCxH,SAAS;AA8cf,eAAeA,SAAS;AAAC,IAAAwH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}